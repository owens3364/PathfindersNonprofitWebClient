{"ast":null,"code":"import _classCallCheck from \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/src/components/views/Donate/PaymentForm.js\";\nimport React, { Component } from 'react';\nimport { Form, DropdownButton, Dropdown, ButtonGroup } from 'react-bootstrap';\nvar teamInvalidError = \"Please enter a valid team.\";\nvar amountInvalidError = \"Please enter a valid amount.\";\nvar paymentTypeInvalidError = \"Please enter a valid payment type.\";\n\nvar PaymentForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PaymentForm, _Component);\n\n  _createClass(PaymentForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// TODO: Log ReactGA stuff here\n    }\n  }]);\n\n  function PaymentForm(props) {\n    var _this;\n\n    _classCallCheck(this, PaymentForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PaymentForm).call(this, props));\n    _this.state = {\n      validated: false,\n      paymentType: \"Payment type\",\n      paymentValid: false,\n      amount: \"\",\n      amountValid: false,\n      team: \"Select team\",\n      teamValid: false,\n      formChanged: false,\n      formValid: false,\n      error: \"\"\n    };\n    _this.submit = _this.submit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateTabs = _this.updateTabs.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.formValid = _this.formValid.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAmount = _this.formValid.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.validateAmount = _this.validateAmount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.errorFromInputs = _this.errorFromInputs.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PaymentForm, [{\n    key: \"submit\",\n    value: function submit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (!this.state.validated) {\n        this.setState({\n          validated: true\n        }, function () {\n          return _this2.updateTabs();\n        });\n      } else {\n        this.updateTabs();\n      }\n    }\n  }, {\n    key: \"updateTabs\",\n    value: function updateTabs() {\n      var _this3 = this;\n\n      this.setState({\n        formValid: this.formValid()\n      }, function () {\n        if (_this3.state.validated) {\n          if (_this3.state.formChanged) {\n            _this3.state.formValid ? _this3.props.enableConfirmation() : _this3.props.disableConfirmation();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"formValid\",\n    value: function formValid() {\n      return this.state.paymentValid && this.state.amountValid && this.state.teamValid;\n    }\n  }, {\n    key: \"handleAmount\",\n    value: function handleAmount(amount) {\n      var _this4 = this;\n\n      if (this.state.amount !== amount.target.value) {\n        if (!isNaN(amount.target.value)) {\n          var amountValid = this.validateAmount(amount.target.value);\n          this.setState({\n            formChanged: true,\n            amount: amount.target.value,\n            amountValid: amountValid\n          }, function () {\n            _this4.setState({\n              error: _this4.errorFromInputs()\n            });\n\n            _this4.updateTabs();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"validateAmount\",\n    value: function validateAmount(amount) {\n      var amountRegex = /^\\$?[0-9]+(\\.[0-9][0-9])?$/;\n      return amountRegex.test(amount.trim());\n    }\n  }, {\n    key: \"errorFromInputs\",\n    value: function errorFromInputs() {\n      if (!this.state.paymentValid) {\n        return paymentTypeInvalidError;\n      }\n\n      if (!this.state.teamValid) {\n        return teamInvalidError;\n      }\n\n      if (!this.state.amountValid) {\n        return amountInvalidError;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(DropdownButton, {\n        id: \"paymentType\",\n        title: this.state.paymentType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Dropdown.Item, {\n        onSelect: function onSelect() {\n          return _this5.setState({\n            paymentType: \"Credit / Debit\",\n            paymentValid: true\n          }, function () {\n            return _this5.setState({\n              error: _this5.errorFromInputs()\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Credit / Debit\"), React.createElement(Dropdown.Item, {\n        onSelect: function onSelect() {\n          return _this5.setState({\n            paymentType: \"IBAN\",\n            paymentValid: true\n          }, function () {\n            return _this5.setState({\n              error: _this5.errorFromInputs()\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"IBAN\"), React.createElement(Dropdown.Item, {\n        onSelect: function onSelect() {\n          return _this5.setState({\n            paymentType: \"iDEAL\",\n            paymentValid: true\n          }, function () {\n            return _this5.setState({\n              error: _this5.errorFromInputs()\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"iDEAL\"), React.createElement(Dropdown.Item, {\n        onSelect: function onSelect() {\n          return _this5.setState({\n            paymentType: \"Apple / Google Pay\",\n            paymentValid: true\n          }, function () {\n            return _this5.setState({\n              error: _this5.errorFromInputs()\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Apple / Google Pay\")), React.createElement(DropdownButton, {\n        id: \"team\",\n        title: this.state.team,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Dropdown.Item, {\n        onSelect: function onSelect() {\n          return _this5.setState({\n            team: \"FTC Pathfinders 13497\",\n            teamValid: true\n          }, function () {\n            return _this5.setState({\n              error: _this5.errorFromInputs()\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"FTC Pathfinders 13497\"), React.createElement(Dropdown.Item, {\n        onSelect: function onSelect() {\n          return _this5.setState({\n            team: \"FLL Pathfinders 7885\",\n            teamValid: true\n          }, function () {\n            return _this5.setState({\n              error: _this5.errorFromInputs()\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"FLL Pathfinders 7885\"))), React.createElement(Form, {\n        noValidate: true,\n        validated: this.state.validated,\n        onSubmit: function onSubmit(e) {\n          return _this5.submit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"amount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Amount (USD)\"), React.createElement(Form.Control, {\n        required: true,\n        type: \"text\",\n        placeholder: \"12.34\",\n        value: this.state.amonut,\n        onChange: function onChange(e) {\n          return _this5.handleAmount(e);\n        },\n        isValid: this.state.validated ? this.state.amountValid && this.state.paymentValid && this.state.teamValid : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(Form.Control.Feedback, {\n        type: \"invalid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.state.error)))));\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var nextStateImportant = [nextState.validated, nextState.amount, nextState.paymentType, nextState.amountValid, nextState.paymentValid, nextState.team, nextState.teamValid, nextState.error];\n      var thisStateImportant = [this.state.validated, this.state.amount, this.state.amountValid, this.state.paymentType, this.state.paymentValid, this.state.team, this.state.teamValid, this.state.error];\n      return nextStateImportant !== thisStateImportant;\n    }\n  }]);\n\n  return PaymentForm;\n}(Component);\n\nexport { PaymentForm as default };","map":{"version":3,"sources":["/Users/OwenScott/FTC/PATHFINDERS ROBOTICS/Web Services/pathfinders/src/main/client/src/components/views/Donate/PaymentForm.js"],"names":["React","Component","Form","DropdownButton","Dropdown","ButtonGroup","teamInvalidError","amountInvalidError","paymentTypeInvalidError","PaymentForm","props","state","validated","paymentType","paymentValid","amount","amountValid","team","teamValid","formChanged","formValid","error","submit","bind","updateTabs","handleAmount","validateAmount","errorFromInputs","event","preventDefault","stopPropagation","setState","enableConfirmation","disableConfirmation","target","value","isNaN","amountRegex","test","trim","e","amonut","nextProps","nextState","nextStateImportant","thisStateImportant"],"mappings":"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","sourcesContent":["// @flow\n\nimport React, {Component} from 'react';\nimport {Form, DropdownButton, Dropdown, ButtonGroup} from 'react-bootstrap';\n\nconst teamInvalidError = \"Please enter a valid team.\";\nconst amountInvalidError = \"Please enter a valid amount.\";\nconst paymentTypeInvalidError = \"Please enter a valid payment type.\";\n\nexport default class PaymentForm extends Component {\n    componentDidMount() {\n        // TODO: Log ReactGA stuff here\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            validated: false,\n            paymentType: \"Payment type\",\n            paymentValid: false,\n            amount: \"\",\n            amountValid: false,\n            team: \"Select team\",\n            teamValid: false,\n            formChanged: false,\n            formValid: false,\n            error: \"\"\n        };\n\n        this.submit = this.submit.bind(this);\n        this.updateTabs = this.updateTabs.bind(this);\n        this.formValid = this.formValid.bind(this);\n        this.handleAmount = this.formValid.bind(this);\n        this.validateAmount = this.validateAmount.bind(this);\n        this.errorFromInputs = this.errorFromInputs.bind(this);\n    }\n\n    submit(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!this.state.validated) {\n            this.setState({ validated: true }, () => this.updateTabs());\n        } else {\n            this.updateTabs();\n        }\n    }\n\n    updateTabs() {\n        this.setState({ formValid: this.formValid() }, () => {\n            if (this.state.validated) {\n                if (this.state.formChanged) {\n                    this.state.formValid ? this.props.enableConfirmation() : this.props.disableConfirmation();\n                }\n            }\n        });\n    }\n\n    formValid() {\n        return this.state.paymentValid && this.state.amountValid && this.state.teamValid;\n    }\n\n    handleAmount(amount) {\n        if (this.state.amount !== amount.target.value) {\n            if (!isNaN(amount.target.value)) {\n                let amountValid = this.validateAmount(amount.target.value);\n                this.setState(\n                    {\n                        formChanged: true,\n                        amount: amount.target.value,\n                        amountValid: amountValid,\n                    },\n                    () => {\n                        this.setState({error: this.errorFromInputs()})\n                        this.updateTabs();\n                    }\n                );\n            }\n        }\n    }\n\n    validateAmount(amount) {\n        const amountRegex = /^\\$?[0-9]+(\\.[0-9][0-9])?$/;\n        return amountRegex.test(amount.trim());\n    }\n\n    errorFromInputs() {\n        if (!this.state.paymentValid) {\n            return paymentTypeInvalidError;\n        }\n        if (!this.state.teamValid) {\n            return teamInvalidError;\n        }\n        if (!this.state.amountValid) {\n            return amountInvalidError;\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <br/>\n                <ButtonGroup>\n                    <DropdownButton id=\"paymentType\" title={this.state.paymentType}>\n                        <Dropdown.Item onSelect={() => this.setState(\n                            {   \n                                paymentType: \"Credit / Debit\",\n                                paymentValid: true\n                            },\n                            () => this.setState({error: this.errorFromInputs()})\n                            )}>Credit / Debit</Dropdown.Item>\n                        <Dropdown.Item onSelect={() => this.setState(\n                            {\n                                paymentType: \"IBAN\",\n                                paymentValid: true\n                            },\n                            () => this.setState({error: this.errorFromInputs()})\n                            )}>IBAN</Dropdown.Item>\n                        <Dropdown.Item onSelect={() => this.setState(\n                            {\n                                paymentType: \"iDEAL\",\n                                paymentValid: true\n                            },\n                            () => this.setState({error: this.errorFromInputs()})\n                            )}>iDEAL</Dropdown.Item>\n                        <Dropdown.Item onSelect={() => this.setState(\n                            {\n                                paymentType: \"Apple / Google Pay\",\n                                paymentValid: true\n                            },\n                            () => this.setState({error: this.errorFromInputs()})\n                            )}>Apple / Google Pay</Dropdown.Item>\n                    </DropdownButton>\n                    <DropdownButton id=\"team\" title={this.state.team}>\n                        <Dropdown.Item onSelect={() => this.setState(\n                            {\n                                team: \"FTC Pathfinders 13497\",\n                                teamValid: true\n                            },\n                            () => this.setState({error: this.errorFromInputs()})\n                        )}>FTC Pathfinders 13497</Dropdown.Item>\n                        <Dropdown.Item onSelect={() => this.setState(\n                            {\n                                team: \"FLL Pathfinders 7885\",\n                                teamValid: true\n                            },\n                            () => this.setState({error: this.errorFromInputs()})\n                        )}>FLL Pathfinders 7885</Dropdown.Item>\n                    </DropdownButton>\n                </ButtonGroup>\n                <Form\n                    noValidate\n                    validated={this.state.validated}\n                    onSubmit={e => this.submit(e)}\n                >\n                    <Form.Row>\n                        <Form.Group controlId=\"amount\">\n                            <Form.Label>Amount (USD)</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"text\"\n                                placeholder=\"12.34\"\n                                value={this.state.amonut}\n                                onChange={e => this.handleAmount(e)}\n                                isValid={this.state.validated ? this.state.amountValid && this.state.paymentValid && this.state.teamValid : null}\n                            />\n                            <Form.Control.Feedback type=\"invalid\">\n                                {this.state.error}\n                            </Form.Control.Feedback>\n                        </Form.Group>\n                    </Form.Row>\n                </Form>\n            </div>\n        );\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        let nextStateImportant = [\n            nextState.validated,\n            nextState.amount,\n            nextState.paymentType,\n            nextState.amountValid,\n            nextState.paymentValid,\n            nextState.team,\n            nextState.teamValid,\n            nextState.error\n        ];\n        let thisStateImportant = [\n            this.state.validated,\n            this.state.amount,\n            this.state.amountValid,\n            this.state.paymentType,\n            this.state.paymentValid,\n            this.state.team,\n            this.state.teamValid,\n            this.state.error\n        ];\n        return nextStateImportant !== thisStateImportant;\n    }\n}"]},"metadata":{},"sourceType":"module"}